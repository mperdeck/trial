

dotnet ef dbcontext scaffold "Server=.;Database=optimizeware;Integrated Security=true;" Microsoft.EntityFrameworkCore.SqlServer -c CommonDbContext -o Entities

rmdir /s /q Entities
dotnet ef dbcontext scaffold "Server=MPERDECKPC\MSSQLSERVER01;Database=optimizeware;Integrated Security=true;" Microsoft.EntityFrameworkCore.SqlServer -c CommonDbContext -o Entities >missing_primarykey.txt

Server name:
MPERDECKPC\MSSQLSERVER01

=============================



=======================

ssms A network-related or instance-specific error occurred while establishing a connection to SQL Server.



===========================
The PRIMARY KEY constraint uniquely identifies each record in a table.

Primary keys must contain UNIQUE values, and cannot contain NULL values.

A table can have only one primary key, which may consist of single or multiple fields.


CREATE TABLE [dbo].[compare](
	[compare_id] [char](2) NOT NULL,
	[compare_short] [varchar](30) NOT NULL,
	[compare_order] [smallint] NOT NULL
) ON [PRIMARY]

GO

>>>>>>>>>>>>>> adding primary key
alter table compare add primary key (compare_id)
alter table [geography] add primary key ([geography_id])

ALTER TABLE geography ADD CONSTRAINT fk_geography_org FOREIGN KEY (org_id) REFERENCES org (org_id)

----------
changes to

CREATE TABLE [dbo].[compare](
	[compare_id] [char](2) NOT NULL,
	[compare_short] [varchar](30) NOT NULL,
	[compare_order] [smallint] NOT NULL,
PRIMARY KEY CLUSTERED 
(
	[compare_id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO




+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++




{System.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Person' when IDENTITY_INSERT is set to OFF.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
ClientConnectionId:f403c218-4ce4-4f0e-92be-1acfb3b4dbdd
Error Number:544,State:1,Class:16}

